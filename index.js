"use strict";(()=>{function h(){for(;document.body.firstChild;)document.body.removeChild(document.body.firstChild)}var d=class{constructor(r){this.parent=null;this.child1=null;this.child2=null;this.paramName=null;this.volume=null;this.coeff=null;this.profit=null;this.name=r}};d.nodeNum=0;var f=[],b=[],p=[],t=[],c=[];var s=[];(function(){let r=document.createElement("div"),l=document.createElement("input"),n=document.createElement("input");l.type="text",n.type="button",n.value="\u0414\u0430\u043B\u0435\u0435",n.addEventListener("click",u=>{d.nodeNum=parseInt(l.value),h(),v()}),r.innerHTML=`
	<p>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u0435\u0440\u0448\u0438\u043D:</p>
	`,r.appendChild(l),document.body.appendChild(r),document.body.appendChild(n)})();function v(){for(let r=0;r<d.nodeNum;++r){let l=document.createElement("div"),n=document.createElement("input");n.type="text",n.id="vertex";let u=document.createElement("input");u.type="text",u.id="coefficient";let e=document.createElement("input");e.type="text",e.id="volume",l.innerHTML=`
	<p>\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0432\u0435\u0440\u0448\u0438\u043D\u044B \u2116${r+1}:</p>
	`,l.innerHTML+="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0432\u0435\u0440\u0448\u0438\u043D\u044B ",l.appendChild(n),l.innerHTML+=" \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 ",l.appendChild(u),l.innerHTML+=" \u041F\u0440\u043E\u0446\u0435\u043D\u0442 \u043F\u0440\u0438\u0440\u043E\u0441\u0442\u0430 ",l.appendChild(e),document.body.appendChild(l)}let a=document.createElement("input");a.type="button",a.value="\u0414\u0430\u043B\u0435\u0435",a.addEventListener("click",r=>{document.body.querySelectorAll("input").forEach(l=>{l.id=="vertex"?f.push(l.value):l.id=="coefficient"?b.push(l.value):l.id=="volume"&&s.push(parseInt(l.value))});for(let l=0;l<f.length;++l){let n=new d(f[l]);n.paramName=b[l],n.volume=s[l],p.push(n)}h(),E()}),document.body.appendChild(a)}function E(){let a=document.createElement("table");for(let l=0;l<d.nodeNum+1;++l){let n=document.createElement("tr");for(let u=0;u<d.nodeNum+1;++u){let e=document.createElement("td");if(l==0&&u==0){n.appendChild(e);continue}if(l==0){e.innerText=`${f[u-1]}`,n.appendChild(e);continue}else if(u==0){e.innerText=`${f[l-1]}`,n.appendChild(e);continue}let i=document.createElement("input");e.appendChild(i),n.appendChild(e)}a.appendChild(n)}document.body.appendChild(a);let r=document.createElement("input");r.type="button",r.value="\u0414\u0430\u043B\u0435\u0435",r.addEventListener("click",l=>{let n=0,u=!0;document.body.querySelectorAll("input").forEach(e=>{if(e.type!="text")return;let i=Math.floor(n/d.nodeNum),m=n-i*d.nodeNum;if(i==m||m<i){n++;return}e.value=="1"&&(p[i].child1==null?(p[i].child1=p[m],p[m].parent=p[i]):p[i].child2==null&&(p[i].child2=p[m],p[m].parent=p[i])),n++}),h(),T()}),document.body.appendChild(r)}function T(){let a=document.createElement("table");for(let l=0;l<2;++l){let n=document.createElement("tr");for(let u=0;u<4;++u){let e=document.createElement("td");if(l==0&&u==0){e.innerText="\u041E\u0431\u044A\u0435\u043C",c.push("\u041E\u0431\u044A\u0435\u043C"),n.appendChild(e);continue}else if(l==0&&u==1){e.innerText="\u0426\u0435\u043D\u0430",c.push("\u0426\u0435\u043D\u0430"),n.appendChild(e);continue}else if(l==0&&u==2){e.innerText="\u041F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438",c.push("\u041F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438"),n.appendChild(e);continue}else if(l==0&&u==3){e.innerText="\u041F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438",c.push("\u041F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438"),n.appendChild(e);continue}let i=document.createElement("input");e.appendChild(i),n.appendChild(e)}a.appendChild(n)}document.body.appendChild(a);let r=document.createElement("input");r.type="button",r.value="\u0414\u0430\u043B\u0435\u0435",r.addEventListener("click",l=>{let n=0;document.body.querySelectorAll("input").forEach(u=>{u.type=="text"&&(t.push(parseInt(u.value)),n++)});for(let u=0;u<t.length;++u)p.forEach(e=>{if(c[u]==e.paramName){if(e.paramName=="\u041E\u0431\u044A\u0435\u043C"){let i=t[0]/100*(e.volume?e.volume:10),m=t[0]*t[1]-(t[2]+t[3]*t[0]),o=(t[0]+i)*t[1]-(t[2]+t[3]*(t[0]+i));e.profit=o-m,e.coeff=Math.round(Math.abs(e.profit/m)*100)}if(e.paramName=="\u0426\u0435\u043D\u0430"){let i=t[1]/100*(e.volume?e.volume:10),m=t[0]*t[1]-(t[2]+t[3]*t[0]),o=t[0]*(t[1]+i)-(t[2]+t[3]*t[0]);e.profit=o-m,e.coeff=Math.round(Math.abs(e.profit/m)*100)}if(e.paramName=="\u041F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438"){let i=t[2]/100*(e.volume?e.volume:10),m=t[0]*t[1]-(t[2]+t[3]*t[0]),o=t[0]*t[1]-(t[2]-i+t[3]*t[0]);e.profit=o-m,e.coeff=Math.round(Math.abs(e.profit/m)*100)}if(e.paramName=="\u041F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u0434\u0435\u0440\u0436\u043A\u0438"){let i=t[3]/100*(e.volume?e.volume:10),m=t[0]*t[1]-(t[2]+t[3]*t[0]),o=t[0]*t[1]-(t[2]+(t[3]-i)*t[0]);e.profit=o-m,e.coeff=Math.round(Math.abs(e.profit/m)*100)}}});h(),M()}),document.body.appendChild(r)}function M(){let a=document.createElement("div");a.classList.add("chart"),a.id="basic-example",a.style.width="1024px",a.style.height="512",document.body.appendChild(a),visualize(p,t)}})();
